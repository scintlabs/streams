<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Streams</title>
        <script>
            tailwind.config = { darkMode: "class" }
        </script>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body
        class="h-screen w-screen bg-slate-100 text-gray-900 dark:bg-slate-900 dark:text-gray-100"
    >
        <button
            id="theme-toggle"
            class="absolute top-2 right-2 px-2 py-1 rounded bg-gray-200 dark:bg-gray-700"
        >
            Toggle theme
        </button>
        {% block body %}{% endblock %}
        <script>
            const toggle = document.getElementById("theme-toggle")
            const stored = localStorage.getItem("theme")
            if (
                stored === "dark" ||
                (!stored && window.matchMedia("(prefers-color-scheme: dark)").matches)
            ) {
                document.documentElement.classList.add("dark")
            }
            toggle.addEventListener("click", () => {
                document.documentElement.classList.toggle("dark")
                localStorage.setItem(
                    "theme",
                    document.documentElement.classList.contains("dark")
                        ? "dark"
                        : "light"
                )
            })
        </script>
    </body>
</html>
